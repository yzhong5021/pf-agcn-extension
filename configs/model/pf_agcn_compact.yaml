# configs/model/pf_agcn_compact.yaml
# Reduced PF-AGCN footprint for local smoke tests.

seq_embeddings:
  cache_path: null
  backend: esm  # options: esm, prost
  feature_dim: 128
  seq_len: 512 # max length for sequence embeddings
  dtype: float32
prot_prior:
  enabled: true
  method: cosine # or blast
  blastp_exec: "ncbi-blast-2.17.0+/bin/blastp.exe"
  evalue_threshold: 1.0e-05
  cache_path: null
  top_p_mass: 0.9
  temperature: 1.0
  symmetric: true
go_prior:
  enabled: true
  cache_path: null
  top_p_mass: 0.9
  temperature: 1.0
  symmetric: true
dccn:
  channels: 64
  kernel_size: 3
  dilation: 2
  dropout: 0.1
seq_gating:
  shared_dim: 128 # final entrance to graphs.
  esm_dim:  ${..seq_embeddings.feature_dim}
  dccn_channels: ${..dccn.channels}
  attn_hidden: 128
  dropout: 0.1
seq_final:
  metric_dim: 64
  graph_dim: ${..seq_gating.shared_dim}
adaptive_protein:
  feature_dim: ${..seq_gating.shared_dim}
  attention_dim: 128
  steps: 2
  top_p_mass: 0.9
  temperature: 1.0
  dropout: 0.1
adaptive_function:
  feature_dim: ${..seq_gating.shared_dim}
  attention_dim: 128
  steps: 1
  top_p_mass: 0.9
  temperature: 1.0
  dropout: 0.1
head:
  feature_dim: ${..seq_gating.shared_dim}
  dropout: 0.1
loss:
  name: bce_with_logits
  pos_weight: null
